<div class="d-flex flex-column px-2" style="height: 100vh">
    <nav class="d-flex flex-column flex-md-row justify-content-between align-items-center">
        <h1 id="logo" class="font-weight-normal"><span class="font-weight-bold custom-color-primary">Git</span>Helper</h1>
        <select class="repository-input selectpicker w-100" name="repository-input" [disabled]="repoList==null || repoList.length==0" [(ngModel)]="selectedRepositoryDetails" (change)="initOnRepoSelection($any($event.target).value)">
            <option value='{"owner":"","repoName":""}' disabled selected>Enter a Repository Name</option>
            <option *ngFor="let repo of repoList;" [value]="repo | stringify" [innerHtml]="repo.repoName"></option>
        </select>
        <span id="profile-component" class="">
            <div class="dropdown">
                <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img class="avatarPic" src={{userAvatarUrl}}>
                </button>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item text-danger" href="#">Log Out</a> <!-- to decide what to do-->
                </div>
              </div>
        </span>
    </nav>
    <main *ngIf="(selectedRepositoryDetails |string2json).repoName !== ''" class="row" style="height: 94%;">
        <commit-detail class="commit-view col-12 col-md-6 h-100" [repositoryDetails]="selectedRepositoryDetails | string2json"></commit-detail>
        <div class="size-view col-12 col-md-6 h-100 d-flex flex-column">
            <div class="info-panel row flex-fill">
                <div class="col-12 col-md-6 pr-md-0">
                    <div class="repo-name-view h-50">
                        <p>Repositoy Name:
                        <span class="d-block">{{(selectedRepositoryDetails | string2json).repoName}}</span>
                        </p>
                    </div>
                    <div class="num-contributer-view h-50">
                        <p>Number of Contributers:
                            <span class="d-block">{{numOfContributers}}</span>
                        </p>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="laungage-used-view h-100">
                        <div>
                            Langauages Used:
                            <div class="d-block">
                                <canvas style="max-height: 300px;" 
                                        baseChart
                                        [legend]="true"
                                        [data]="chartData"
                                        [type]="chartType">
                                        [options]="chartOptions"
                                        >
                                    </canvas>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div>
                <commit-graph [repositoryDetails]="selectedRepositoryDetails | string2json"></commit-graph>
            </div>
        </div> 
    </main>
</div>
